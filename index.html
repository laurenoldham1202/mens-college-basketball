<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>March Madness Story</title>

  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <!-- CSS styles-->
  <link rel="stylesheet" href="styles.css">

<!--  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<!--  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>-->

  <!-- map -->
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.css' rel='stylesheet' />
<!--  <script src="https://npmcdn.com/@turf/turf/turf.min.js"></script>-->
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>


  <!-- helpers-->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<!--  <script src="https://d3js.org/d3.v5.min.js"></script>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.10.0/d3.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>


  <!-- scrollytelling -->
  <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
<!--  <script src="https://unpkg.com/scrollama"></script>-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollama/2.0.0/scrollama.min.js"></script>
  <!-- styles-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <!-- Charts -->
  <!-- Your chart code -->
  <script src="chart-seed-avg.js" defer></script>
  <script src="chart-blue-bloods.js" defer></script>
  <script src="chart-conference.js" defer></script>
  <script src="scatterplot.js"></script>



</head>
<body>

<div id="map" class="map-story-mode"></div>
<div id="map-compare"></div>

<div class="comparison-mode" style="visibility: hidden; position: fixed;">

  <div class="compare-menu">
    <button class="map-menu-btn exit">
      <span style="font-size: 1rem !important; width: auto !important;"> < Back</span>
    </button>
  </div>

  <div class="comparison-filter school-1">
    <div class="dropdown">
      <button class="btn btn-primary dropdown-toggle" type="button" id="dropdown-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select a school</button>
      <div class="dropdown-menu dropdown-menu-1" aria-labelledby="dropdown-1"></div>
    </div>

    <div class="stats">
      <div class="col">
        <div class="comparison-stats">
          <div class="compare-title">MEAN</div>
          <div class="compare-text compare-text-mean-1"></div>
        </div>
        <div class="comparison-stats">
          <div class="compare-title">MEDIAN</div>
          <div class="compare-text compare-text-med-1"></div>
        </div>
        <div class="comparison-stats">
          <div class="compare-title">MIN</div>
          <div class="compare-text compare-text-min-1"></div>
        </div>
        <div class="comparison-stats">
          <div class="compare-title">MAX</div>
          <div class="compare-text compare-text-max-1"></div>
        </div>
      </div>
      <div class="col">
        <div class="comparison-stats seed-compare" style="background: #80bad1;">
          <div class="compare-title">1 SEED</div>
          <div class="compare-text compare-text-1-seed-1"></div>
        </div>
        <div class="comparison-stats seed-compare" style="background: #5694c1;">
          <div class="compare-title">2 SEED</div>
          <div class="compare-text compare-text-1-seed-2"></div>
        </div>
        <div class="comparison-stats seed-compare" style="background: #2c6db1;">
          <div class="compare-title">3 SEED</div>
          <div class="compare-text compare-text-1-seed-3"></div>
        </div>
        <div class="comparison-stats seed-compare" style="background: #0146a1;">
          <div class="compare-title">4 SEED</div>
          <div class="compare-text compare-text-1-seed-4"></div>
        </div>
      </div>
    </div>
  </div>


<!--  <button class="exit">< BACK</button>-->

<!--  <div class="doot" style="width: 30rem;position: absolute;top: 3rem;left: 1rem;">-->


  <div class="comparison-filter school-2" style="position: fixed; top: 50vh;">
    <div class="dropdown">
      <button class="btn btn-primary dropdown-toggle" type="button" id="dropdown-2"
              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select a school</button>
      <div class="dropdown-menu dropdown-menu-2" aria-labelledby="dropdown-2"></div>
    </div>
    <div class="stats">
      <div class="col">
        <div class="comparison-stats">
          <div class="compare-title">MEAN</div>
          <div class="compare-text compare-text-mean-2"></div>
        </div>
        <div class="comparison-stats">
          <div class="compare-title">MEDIAN</div>
          <div class="compare-text compare-text-med-2"></div>
        </div>
        <div class="comparison-stats">
          <div class="compare-title">MIN</div>
          <div class="compare-text compare-text-min-2"></div>
        </div>
        <div class="comparison-stats">
          <div class="compare-title">MAX</div>
          <div class="compare-text compare-text-max-2"></div>
        </div>
      </div>

      <div class="col">
        <div class="comparison-stats seed-compare" style="background: #80bad1;">
          <div class="compare-title">1 SEED</div>
          <div class="compare-text compare-text-2-seed-1"></div>
        </div>
        <div class="comparison-stats seed-compare" style="background: #5694c1;">
          <div class="compare-title">2 SEED</div>
          <div class="compare-text compare-text-2-seed-2"></div>
        </div>
        <div class="comparison-stats seed-compare" style="background: #2c6db1;">
          <div class="compare-title">3 SEED</div>
          <div class="compare-text compare-text-2-seed-3"></div>
        </div>
        <div class="comparison-stats seed-compare" style="background: #0146a1;">
          <div class="compare-title">4 SEED</div>
          <div class="compare-text compare-text-2-seed-4"></div>
        </div>
      </div>

    </div>
  </div>
</div>



<div class="toolbar">
  <div class="chapter-list"></div>
  <div class="chapter-tooltip"></div>

<!--  <button class="btn" style="background: #E27600">Skip Story ></button>-->

<!--  <div class="btn-group btn-group-toggle app-mode-toggle" data-toggle="buttons">-->
<!--    <label class="btn btn-secondary active" id="toggle-story-mode" >-->
<!--      <input type="radio" name="options" id="map-story" checked> Story Mode-->
<!--    </label>-->
<!--    <label class="btn btn-secondary" id="toggle-explore-mode">-->
<!--      <input type="radio" name="options" id="map-explore"> Explore Mode-->
<!--    </label>-->
<!--  </div>-->
</div>


<button class="btn skip-story-btn" id="toggle-explore-mode">Skip Story ></button>



<div class="map-explore">


  <!-- TODO add tooltips, add styles to skip story btn focus and active-->
  <!-- TODO update label location -->
  <div class="map-menu">
    <button class="map-menu-btn" id="extent">
      <div class="material-icons">public</div> Reset
    </button>
    <button class="map-menu-btn" id="compare">
      <div class="material-icons">compare</div> Compare
    </button>
    <button class="map-menu-btn" id="story-mode-btn">
      <div class="material-icons">menu_book</div> Learn
    </button>
    <div class="btn-tooltip"></div>
  </div>


  <div class="map-control">
<!--    <button id="extent" class="map-button"><span class="material-icons">public</span></button>-->
<!--    <button id="compare" class="map-button"><span class="material-icons">compare</span></button>-->
<!--    <div class="btn-tooltip"></div>-->
  </div>
  <div class="map-control" style="bottom: 1rem !important; top: auto !important; left: 25rem;">
    <button id="legend" class="map-button"><span class="material-icons">legend_toggle</span></button>
  </div>

  <div class="map-legend" style="position: absolute; bottom: 1rem; left: 28rem;"></div>

  <div class="label">
    <div class="label-text"></div>
    <div class="label-subtext"></div>
  </div>

  <div class="label-compare">
    <div class="label-text-compare"></div>
    <div class="label-subtext-compare"></div>
  </div>

  <div class="sidebar">
    <h1 class="capital-font" style="text-align: center;">Going the Distance</h1>
    <div style="text-align: center; font-size: 0.75rem;">First-Round March Madness Travel Distances Analysis</div>
    <hr>
    <div class="filters-container">

      <!-- todo use charcoal background instead of blue? -->
      <div class="filter-row">
        <select id="schoolFilter" class="toolbar-select">
          <option value="all">All Schools</option>
        </select>

        <select id="seedFilter" class="toolbar-select">
          <option value="all">All Seeds</option>
          <option value="oneSeed">1 Seeds</option>
          <option value="twoSeed">2 Seeds</option>
          <option value="threeSeed">3 Seeds</option>
          <option value="fourSeed">4 Seeds</option>
        </select>
      </div>

      <!-- TODO create programmatically through json and use full value text -->
      <div class="filter-row">
      <select id="conferenceFilter" class="toolbar-select">
          <option value="all">All Conferences</option>
          <option value="American Athletic Conference">American Athletic Conference</option>
          <option value="Atlantic 10 Conference">Atlantic 10 Conference</option>
          <option value="Atlantic Coast Conference">Atlantic Coast Conference</option>
          <option value="Big 12 Conference">Big 12 Conference</option>
          <option value="Big East Conference">Big East Conference</option>
          <option value="Big Ten Conference">Big Ten Conference</option>
          <option value="Missouri Valley Conference">Missouri Valley Conference</option>
          <option value="Mountain West Conference">Mountain West Conference</option>
          <option value="Pac-12 Conference">Pac-12 Conference</option>
          <option value="Southeastern Conference">Southeastern Conference</option>
          <option value="West Coast Conference">West Coast Conference</option>
        </select>

        <select id="statFilter" class="toolbar-select">
          <option value="mean">Mean</option>
          <option value="50%">Median</option>
          <option value="min">Minimum</option>
          <option value="max">Maximum</option>
          <option value="count">Count (Appearances)</option>
        </select>
      </div>

      <div class="toggle-container" style="display: flex; justify-content: center;">
        <div class="custom-control custom-switch">
          <input type="checkbox" class="custom-control-input" id="weightedToggle">
          <label class="custom-control-label" for="weightedToggle">Weighted Distance</label>
        </div>
        <span class="material-icons button-icon" data-toggle="modal" data-target="#weighted-modal" style="margin-left: 1rem;">help</span>
      </div>
    </div>

    <div class="info-container">
      <div class="info-header capital-font">All 1-4 Seed Schools 1985 - 2019</div>

      <div class="info-row">
        <div class="info-stat capital-font card-1"></div>
        <div class="info-text">
          <div class="card-1-header">mean distance traveled</div>
          <div class="info-subtext card-1-subtext">Average for top seeded schools 1985 - 2019</div>
        </div>
      </div>

      <div class="info-row">
        <div class="info-stat capital-font card-2"></div>
        <div class="info-text">
          <div class="card-2-header">median distance traveled</div>
          <div class="info-subtext card-2-subtext">Average for top seeded schools 1985 - 2019</div>
        </div>
      </div>

      <div class="info-row">
        <div class="info-stat capital-font card-3"></div>
        <div class="info-text">
          <div class="card-3-header">minimum distance traveled</div>
          <div class="info-subtext card-3-subtext"></div>
        </div>
      </div>

      <div class="info-row">
        <div class="info-stat capital-font card-4"></div>
        <div class="info-text">
          <div class="card-4-header">maximum distance traveled</div>
          <div class="info-subtext card-4-subtext"></div>
        </div>
      </div>

      <div class="info-row">
        <div class="info-stat capital-font card-5"></div>
        <div class="info-text card-5-subtext">unique schools</div>
      </div>
    </div>

    <div class="info-footer" style="width: 100%; display: flex;">
      <div class="footer-left" style="width: 50%; visibility: hidden;">
        <button type="button" class="btn btn-secondary footer-btn" id="">< School</button>
      </div>
      <div class="footer-right" style="margin-left: auto; width: 50%; text-align: right; visibility: hidden;">
        <button type="button" class="btn btn-secondary footer-btn">Seed ></button>
      </div>
    </div>

    <div class="footer" style="position: absolute; bottom: 1rem; left: 1rem; font-size: 0.75rem;">
      Created by Lauren Oldham,
      <a href="https://github.com/laurenoldham1202/march-madness" target="_blank">Project Repository</a>
    </div>
  </div>

</div>

<div class="modal fade" id="about-modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">March Madness Seeding Explained</h4>
      </div>
      <div class="modal-body">
        <div class="modal-text">
        <p>Every year in March, college basketball fans anxiously wait to see if their team made the
        NCAA Men’s Basketball National
        Championship tournament. The tournament is a three week-long single-elimination tournament in which 64 teams compete to take home the highly coveted
        National Championship title. The fun isn’t just reserved for fans - countless people from all across the globe fill out
        tournament brackets and bet on which teams will make deep runs and ultimately win it all.</p>

        While coaches, teams, and fans alike want to see their preferred team effortlessly stroll through
        each round to play in the National Championship game, they first have to
        survive the first weekend of the tournament. The first and second
        rounds of the tournament (Round of 64 and Round of 32, respectively) are historically filled with the most
        chaos, with underdog teams defying odds by knocking out highly favored teams early on. <span class="bold">Because of the
        precedence for upsets in the first round of the tournament, there is a lot of focus on the matchups and
        locations for each competing team.</span>

        <p>Tournament brackets does more than just determine who gets into the tournament - they also
        determine where the chosen teams play, who they play against, and how highly they are ranked.</p>

        <p>Each team is listed from best to worst with an overall rank, a number 1 to 64*, in which 1
        represents the overall best team in the tournament and 64 represents the worst. These rankings are then
        grouped into 16 seeds of four teams each, wherein 1 seeds are the best teams and 16 seeds are the worst
        teams. Many considerations go into the creation of tournament brackets, but the idea is that <span class="bold">higher
        seeds are rewarded for their regular season performance by playing against the lowest ranked teams. </span>
        Additionally, <span class="bold">top-ranked teams are not to be placed in a home-crowd disadvantage.</span></p>

        <p><span class="bold">Because the tournament is single-elimination, teams only have one shot in each round to advance to the next level.</span>
          All teams put their best foot forward, but there's no room for an off game - one bad night can (and has) cost the best team in the nation
          a shot at the national title. Many lower ranked teams don't make it into the tournament very often and have the tenacity to try to become
          the next Cinderella story.
          <p>Teams want every advantage at their disposal when going into the tournament, and having a closer first-round
        site can be incredibly beneficial both physically and psychologically.</p>

        <ul>
        <li>Student athletes still officially
        attend classes during the tournament, so shorter travel times are logistically easier; not only that, but
        traveling long distances via bus or air can be physically draining.</li>
        <li>Games are played from early morning to
        late at night across multiple time zones, so it's also ideal to play in or near your home time zone. </li>
        <li>Perhaps
        most importantly, playing near your school allows your fanbase to easily travel to the games, simulating
        as much of a <a href="https://kenpom.com/blog/mining-point-spread-data-home-court-advantage/" target="_blank">
          home court advantage</a> as possible. When the tides turn against a team in a game, nothing fires them up
        like a raucous home crowd.</li>
        </ul>

          <p>In the NCAA's <a href="https://www.ncaa.com/news/basketball-men/article/2020-08-17/how-field-68-teams-picked-march-madness" target="_blank">"How the field of 68 teams is picked for March Madness"</a> rules*, it states:</p>

          <p><strong>'To recognize the demonstrated quality of such teams, the committee shall not place teams seeded on the first four lines at a potential “home-crowd disadvantage” in the first round.'</strong></p>

          <p>While this mention of a home-crowd disadvantage is vague and there are many other rules that go into tournament seeding,
            fans generally interpret this statement to mean that top seeded teams receive geographic preference in accordance with their rank.

          <p>This project analyzes first-round site location distances to see if higher ranked teams receive better geographic preference during the national championship tournament.</p>
          <p><footer style="font-size: 0.75rem;">* Last accessed 08/26/2020</footer>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="weighted-modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Weighted Distances</h4>
      </div>
      <div class="modal-body">
        <div class="modal-text">
          Making apples-to-apples comparisons amongst schools based on their mean travel distance is not optimal -
          travel distances are expected to fluctuate based on the frequency of appearances of each seed in a school's
          history.

          <br><br>In other word, comparing a school with five appearances as a 1 seed against a school with five
          appearances as a 4 seed would not make sense with raw values - you would expect the school with more 1 seed
          appearances to have a much lower average travel distance. Applying weights to these values helps to normalize
          them for more accurate comparisons.

          <br><br>
          Weights are applied based on seed values.

          <div class="seed-hl-row">
            <div class="seed-hl" style="background: #80bad1">
              <div class="seed-hl-title" style="color:white">1 SEED</div>
              <div class="seed-hl-text">1.00</div>
            </div>

            <div class="seed-hl" style="background: #5694c1">
              <div class="seed-hl-title">2 SEED</div>
              <div class="seed-hl-text">0.73</div>
            </div>

            <div class="seed-hl" style="background: #2c6db1">
              <div class="seed-hl-title">3 SEED</div>
              <div class="seed-hl-text">0.51</div>
            </div>

            <div class="seed-hl" style="background: #0146a1">
              <div class="seed-hl-title">4 SEED</div>
              <div class="seed-hl-text">0.43</div>
            </div>
          </div>
          <br>
          The weights are derived from the overall seed averages. Based on data from 1985 to 2019, <strong>2 seeds
          travel ~1.3 times farther than 1 seeds</strong> (353/482 = 0.73), <strong>3 seeds travel nearly double the distance of 1
          seeds</strong> (353/689 = 0.51), and <strong>4 seeds travel ~2.3 times farther than 1 seeds</strong> (353/829 = 0.43).
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="geo-source-modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="modal-text">
          <p>In the NCAA's <a href="https://www.ncaa.com/news/basketball-men/article/2020-08-17/how-field-68-teams-picked-march-madness" target="_blank">"How the field of 68 teams is picked for March Madness"</a> rules*, it states:</p>

          <p><strong>'To recognize the demonstrated quality of such teams, the committee shall not place teams seeded on the first four lines at a potential “home-crowd disadvantage” in the first round.'</strong></p>

          <p>While this mention of a home-crowd disadvantage is vague and there are many other rules that go into tournament seeding,
          fans generally interpret this statement to mean that top seeded teams receive geographic preference in accordance with their rank.

          <p>This project analyzes first-round site location distances to see if higher ranked teams receive better geographic preference during the national championship tournament.</p>
          <p><footer style="font-size: 0.75rem;">* Last accessed 08/26/2020</footer>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="story"></div>

<script src="./config.js"></script>
<script src="script.js"></script>

</body>
</html>
